:root {
    /* Task state colors */
    --task-background-none: rgba(0, 0, 0, 0);
    --task-cancelled: rgba(220, 70, 70, 1);
    --task-done: rgba(150, 150, 150, 1);
    --task-muted-text: rgba(150, 150, 150, 0.6);
    --task-priority: rgba(76, 220, 120, 1);
    --task-progress: rgba(255, 193, 7, 1);
    --task-standby: rgba(180, 120, 255, 1);
    --task-todo: rgba(160, 160, 160, 1);
    --task-underline-cancelled: rgba(220, 70, 70, 1);
    --task-underline-done: rgba(150, 150, 150, 1);

    /* Shared badge and decoration tokens */
    --task-checkbox-gap: 5em;
    --task-label-font-size: 0.5em;
    --task-label-font-weight: 800;
    --task-label-padding-inline: 0.625em;
    --task-label-preview-offset-y: 55%;
    --task-label-edit-width: 6em;
    --task-label-edit-offset-y: -0.2em;
    --task-strike-thickness: 0.02em;
}

/* Reading view - keep spacing between checkbox and state badge */
.task-list-item[data-task=''] > .task-list-item-checkbox,
.task-list-item[data-task='>'] > .task-list-item-checkbox,
.task-list-item[data-task='!'] > .task-list-item-checkbox,
.task-list-item[data-task='-'] > .task-list-item-checkbox,
.task-list-item[data-task='x'] > .task-list-item-checkbox,
.task-list-item[data-task='*'] > .task-list-item-checkbox {
    margin-right: var(--task-checkbox-gap) !important;
}

/* Reading view - shared badge styling for all custom task states */
.task-list-item[data-task='']::after,
.task-list-item[data-task='>']::after,
.task-list-item[data-task='!']::after,
.task-list-item[data-task='-']::after,
.task-list-item[data-task='x']::after,
.task-list-item[data-task='*']::after {
    position: absolute;
    font-size: var(--task-label-font-size);
    font-weight: var(--task-label-font-weight);
    left: 0;
    padding: 0 var(--task-label-padding-inline);
    top: 0;
    transform: translateY(var(--task-label-preview-offset-y));
}

/* Reading view - muted text styles */
.task-list-item[data-task='-'],
.task-list-item[data-task='x'],
.task-list-item[data-task='*'] {
    color: var(--task-muted-text) !important;
}

.task-list-item[data-task='-'] {
    text-decoration: line-through wavy var(--task-underline-cancelled) var(--task-strike-thickness) !important;
}

.task-list-item[data-task='x'] {
    text-decoration: line-through wavy var(--task-underline-done) var(--task-strike-thickness) !important;
}

.task-list-item[data-task=''] > .task-list-item-checkbox {
    background-color: var(--task-background-none) !important;
    border-color: var(--task-todo) !important;
}

.task-list-item[data-task='']::after {
    content: 'TODO';
    color: var(--task-todo);
}

.task-list-item[data-task='>'] > .task-list-item-checkbox {
    background-color: var(--task-progress) !important;
    border-color: var(--task-progress) !important;
}

.task-list-item[data-task='>']::after {
    content: 'PROGRESS';
    color: var(--task-progress);
}

.task-list-item[data-task='!'] > .task-list-item-checkbox {
    background-color: var(--task-priority) !important;
    border-color: var(--task-priority) !important;
}

.task-list-item[data-task='!']::after {
    content: 'PRIORITY';
    color: var(--task-priority);
}

.task-list-item[data-task='-'] > .task-list-item-checkbox {
    background-color: var(--task-cancelled) !important;
    border-color: var(--task-cancelled) !important;
}

.task-list-item[data-task='-']::after {
    content: 'CANCELLED';
    color: var(--task-cancelled);
}

.task-list-item[data-task='x'] > .task-list-item-checkbox {
    background-color: var(--task-done) !important;
    border-color: var(--task-done) !important;
}

.task-list-item[data-task='x']::after {
    content: 'DONE';
    color: var(--task-done);
}

.task-list-item[data-task='*'] > .task-list-item-checkbox {
    background-color: var(--task-standby) !important;
    border-color: var(--task-standby) !important;
}

.task-list-item[data-task='*']::after {
    content: 'STANDBY';
    color: var(--task-standby);
}

/* Edit view - shared badge styling for all custom task states */
.HyperMD-task-line[data-task=' '] label.task-list-label::after,
.HyperMD-task-line[data-task='>'] label.task-list-label::after,
.HyperMD-task-line[data-task='!'] label.task-list-label::after,
.HyperMD-task-line[data-task='-'] label.task-list-label::after,
.HyperMD-task-line[data-task='x'] label.task-list-label::after,
.HyperMD-task-line[data-task='*'] label.task-list-label::after {
    position: relative;
    display: inline-block;
    width: var(--task-label-edit-width);
    font-size: var(--task-label-font-size);
    font-weight: var(--task-label-font-weight);
    padding: 0 var(--task-label-padding-inline);
    left: 0;
    top: var(--task-label-edit-offset-y);
}

/* Edit view - muted text styles */
.HyperMD-task-line[data-task='-'],
.HyperMD-task-line[data-task='x'],
.HyperMD-task-line[data-task='*'] {
    color: var(--task-muted-text) !important;
}

.HyperMD-task-line[data-task='-'] {
    text-decoration: line-through wavy var(--task-underline-cancelled) var(--task-strike-thickness) !important;
}

.HyperMD-task-line[data-task='x'] {
    text-decoration: line-through wavy var(--task-underline-done) var(--task-strike-thickness) !important;
}

.HyperMD-task-line[data-task=' '] input[type='checkbox'] {
    background-color: var(--task-background-none) !important;
    border-color: var(--task-todo) !important;
}

.HyperMD-task-line[data-task=' '] label.task-list-label::after {
    content: 'TODO';
    color: var(--task-todo);
}

.HyperMD-task-line[data-task='>'] input[type='checkbox'] {
    background-color: var(--task-progress) !important;
    border-color: var(--task-progress) !important;
}

.HyperMD-task-line[data-task='>'] label.task-list-label::after {
    content: 'PROGRESS';
    color: var(--task-progress);
}

.HyperMD-task-line[data-task='!'] input[type='checkbox'] {
    background-color: var(--task-priority) !important;
    border-color: var(--task-priority) !important;
}

.HyperMD-task-line[data-task='!'] label.task-list-label::after {
    content: 'PRIORITY';
    color: var(--task-priority);
}

.HyperMD-task-line[data-task='-'] input[type='checkbox'] {
    background-color: var(--task-cancelled) !important;
    border-color: var(--task-cancelled) !important;
}

.HyperMD-task-line[data-task='-'] label.task-list-label::after {
    content: 'CANCELLED';
    color: var(--task-cancelled);
}

.HyperMD-task-line[data-task='x'] input[type='checkbox'] {
    background-color: var(--task-done) !important;
    border-color: var(--task-done) !important;
}

.HyperMD-task-line[data-task='x'] label.task-list-label::after {
    content: 'DONE';
    color: var(--task-done);
}

.HyperMD-task-line[data-task='*'] input[type='checkbox'] {
    background-color: var(--task-standby) !important;
    border-color: var(--task-standby) !important;
}

.HyperMD-task-line[data-task='*'] label.task-list-label::after {
    content: 'STANDBY';
    color: var(--task-standby);
}
